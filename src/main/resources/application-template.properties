spring.application.name=EAMS1
server.servlet.context-path=/EAMS
spring.config.import=classpath:jdbc.properties
spring.jpa.hibernate.ddl-auto=none

# --- OpenAPI / Swagger ---
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.group-configs[0].group=monitoring
springdoc.group-configs[0].paths-to-match=/EAMS/api/monitoring/**
springdoc.group-configs[0].display-name=監控系統 API

# --- Async / Jackson / Logs (非敏感，可公開) ---
spring.task.execution.pool.core-size=2
spring.task.execution.pool.max-size=5
spring.task.execution.pool.queue-capacity=100
spring.task.execution.pool.keep-alive=60s
spring.task.execution.thread-name-prefix=async-
spring.task.execution.shutdown.await-termination=true
spring.task.execution.shutdown.await-termination-period=30s

spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.deserialization.fail-on-unknown-properties=false
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss
spring.jackson.time-zone=Asia/Taipei

logging.level.com.eams.common.log.aspect.OperationLogAspect=DEBUG
logging.level.com.eams.common.log.service.OperationLogService=DEBUG
logging.level.org.springframework.aop=WARN
logging.level.org.hibernate.SQL=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.file.name=logs/smart-campus.log
logging.level.com.eams.utils.ScoreAccessGuard=DEBUG
logging.level.com.eams.common.Monitoring=INFO
logging.level.com.eams.common.Monitoring.Services.PerformanceMonitorService=DEBUG
logging.level.com.eams.common.Monitoring.Services.SystemEventService=DEBUG
logging.level.com.eams.common.Monitoring.Services.EventPublisher=INFO
logging.level.com.eams.common.Monitoring.Services.DataCleanupService=INFO

# --- Cache ---
spring.cache.type=caffeine
spring.cache.caffeine.spec=maximumSize=1000,expireAfterWrite=30m
cache.userPermissions.spec=maximumSize=500,expireAfterWrite=30m
cache.systemConfigs.spec=maximumSize=200,expireAfterWrite=60m
cache.contentTemplates.spec=maximumSize=100,expireAfterWrite=30m
cache.monitoringMetrics.spec=maximumSize=1000,expireAfterWrite=15m
cache.monitoringEvents.spec=maximumSize=500,expireAfterWrite=10m
cache.monitoringHealth.spec=maximumSize=10,expireAfterWrite=1m

# --- 檔案上傳（可公開） ---
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
spring.servlet.multipart.file-size-threshold=1MB
file.upload.path=C:/uploads
file.upload.max-size=10485760
file.upload.allowed-extensions=.jpg,.jpeg,.png,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.zip,.rar

# --- Actuator / 監控（可公開） ---
management.endpoints.web.exposure.include=health,info,metrics,env,monitoring
management.endpoint.health.show-details=when-authorized
management.info.env.enabled=true
management.endpoint.monitoring.enabled=true
management.health.monitoring.enabled=true
management.metrics.monitoring.enabled=true

# --- 任務排程（可公開） ---
spring.task.scheduling.pool.size=5
scheduler.backup.enabled=true
scheduler.backup.cron=0 0 2 * * ?
scheduler.cleanup.enabled=true
scheduler.cleanup.cron=0 0 3 * * SUN
scheduler.report.enabled=true
scheduler.report.cron=0 0 1 1 * ?
scheduler.monitoring.performance-collection.enabled=true
scheduler.monitoring.performance-collection.cron=0 */5 * * * ?
scheduler.monitoring.health-check.enabled=true
scheduler.monitoring.health-check.cron=0 */1 * * * ?
scheduler.monitoring.cleanup.enabled=true
scheduler.monitoring.cleanup.cron=0 0 2 * * ?

# --- 安全設定（敏感改環境變數） ---
jwt.secret=${JWT_SECRET}
jwt.expiration=86400000
jwt.refresh-expiration=604800000

# --- 基本資訊（可公開） ---
app.name=EAMS智慧校務系統
app.version=2.1.0
app.description=智慧校務管理後台系統

# --- 通知與郵件（密碼改環境變數） ---
notification.email.enabled=true
notification.sms.enabled=false
notification.system.enabled=true
notification.retention-days=90

spring.mail.host=localhost
spring.mail.port=1025
spring.mail.username=${MAIL_USERNAME:}
spring.mail.password=${MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=false
spring.mail.properties.mail.smtp.starttls.enable=false

mail.from.name=EAMS智慧校務系統
mail.from.email=noreply@eams.edu.tw
mail.template.path=classpath:/templates/mail/

# --- 前端 URL（可公開） ---
app.frontend.url=${APP_FRONTEND_URL:http://localhost:5173}

# --- Google OAuth（全部改環境變數，絕對不要填真值） ---
google.oauth2.client-id=${GOOGLE_CLIENT_ID}
google.oauth2.client-secret=${GOOGLE_CLIENT_SECRET}
google.oauth2.refresh-token=${GOOGLE_REFRESH_TOKEN}

# --- 監控（可公開） ---
monitoring.performance.enabled=true
monitoring.performance.interval-minutes=5
monitoring.performance.retention-days=30
monitoring.performance.cpu-threshold-warning=80.0
monitoring.performance.cpu-threshold-critical=90.0
monitoring.performance.memory-threshold-warning=80.0
monitoring.performance.memory-threshold-critical=90.0
monitoring.performance.disk-threshold-warning=85.0
monitoring.performance.disk-threshold-critical=95.0
monitoring.events.enabled=true
monitoring.events.retention-days=90
monitoring.events.low-severity-retention-days=7
monitoring.events.batch-size=100
monitoring.notifications.enabled=true
monitoring.notifications.batch-size=50
monitoring.notifications.retry-attempts=3
monitoring.notifications.email-enabled=true
monitoring.notifications.system-enabled=true
monitoring.notifications.use-existing-service=true
monitoring.cleanup.enabled=true
monitoring.cleanup.daily-schedule=0 0 2 * * ?
monitoring.cleanup.weekly-schedule=0 0 3 * * SUN
monitoring.cleanup.auto-cleanup-enabled=true
monitoring.api.enabled=true
monitoring.api.admin-enabled=true
monitoring.api.test-mode=false
monitoring.security.enabled=true
monitoring.security.admin-role=ADMIN
monitoring.security.viewer-role=USER
monitoring.security.ip-whitelist=127.0.0.1,localhost
monitoring.alerts.enabled=true
monitoring.alerts.email-enabled=true
monitoring.alerts.admin-emails=admin@eams.edu.tw
monitoring.alerts.escalation-minutes=30
monitoring.alerts.max-alerts-per-hour=10
monitoring.export.enabled=true
monitoring.export.path=${file.upload.path}/monitoring-exports
monitoring.export.max-records=100000
monitoring.export.retention-days=7
monitoring.health.enabled=true
monitoring.health.check-interval-seconds=60
monitoring.health.timeout-seconds=30
monitoring.health.failure-threshold=3
monitoring.metrics.jvm-enabled=true
monitoring.metrics.system-enabled=true
monitoring.metrics.application-enabled=true
monitoring.metrics.database-enabled=true
monitoring.integration.user-service=true
monitoring.integration.permission-service=true
monitoring.integration.notification-service=true
monitoring.integration.file-service=true
monitoring.info.version=1.0.0
monitoring.info.build-time=@maven.build.timestamp@
